defmodule MessageX.Messaging do
  use GenServer

  alias MessageX.Chats.Handle
  alias MessageX.Chats.ContactCard

  alias MessageX.Chats
  alias MessageX.Contacts

  # Client

  def start_link(opts \\ []) when is_list(opts) do
    state = %{chats: [], contacts: []}
    GenServer.start_link(__MODULE__, state, opts)
  end

  def chats(pid \\ __MODULE__) do
    GenServer.call(pid, :chats)
  end

  def contacts(pid \\ __MODULE__) do
    GenServer.call(pid, :contacts)
  end

  def find_contact(pid \\ __MODULE__, handle) do
    GenServer.call(pid, {:find_contact, handle})
  end

  # Callbacks

  @impl true
  def init(_opts \\ []) do
    state = %{
      # chats: Chats.list_chats(),
      # contacts: Contacts.list_contact_cards()
      chats: [],
      contacts: []
    }

    {:ok, state}
  end

  @impl true
  def handle_call(:chats, _from, state) do
    {:reply, state.chats, state}
  end

  def handle_call(:contacts, _from, state) do
    {:reply, state.contacts, state}
  end

  def handle_call({:find_contact, id}, from, state) when is_binary(id) do
    handle_call({:find_contact, %Handle{rowid: id}}, from, state)
  end

  def handle_call({:find_contact, %Handle{rowid: "+15857278458"}}, _from, state) do
    contact = %{
      photos: [
        %{
          params: %{encoding: "BASE64", type: "JPEG"},
          type: "binary",
          value:
            "PHOTO;TYPE=JPEG;ENCODING=BASE64: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"
        }
      ],
      addresses: [],
      cal_uris: [],
      emails: [],
      fullname: %{value: " Michael  Sitchenko ", params: %{}, type: "text"},
      impps: [],
      name: %{value: ["Sitchenko", "Michael", "", "", ""], params: %{}, type: "text"},
      phone_numbers: [
        %{
          value: "(585) 727-8458",
          params: %{type: ["HOME", "VOICE", "pref"]},
          type: "phone-number"
        }
      ],
      social_profiles: [],
      urls: [],
      x_abadr: [],
      initials: "MS",
      identifier_name: "Michael  Sitchenko",
      identifier_number: "(585) 727-8458",
      identifier_numbers: ["5857278458"]
    }

    {:reply, contact, state}
  end

  def handle_call({:find_contact, %Handle{} = handle}, _from, state) do
    contact =
      state.contacts
      |> Enum.find(fn contact ->
        # id = handle.uncanonicalized_id
        id = handle.id

        # IO.inspect([id, ContactCard.sanitize_phone_number(id)])
        # IO.inspect(contact.identifier_numbers)

        if is_binary(id) and
             ContactCard.sanitize_phone_number(id) in contact.identifier_numbers do
          true
        else
          # if is_binary(id) and ContactCard.sanitize_email(id) in contact.identifier_emails do
          #   true
          # else
          #   false
          # end
          false
        end
      end)

    {:reply, contact, state}
  end

  # @impl true
  # def handle_cast({:push, element}, state) do
  #   {:noreply, [element | state]}
  # end
end
